# 获取链接
在[上文](./06-env-vars.md)中,
我们说过 逻辑每链接一个建筑时, 会以建筑的部分名称生成一个表示该建筑的环境变量,
我们可以通过这个环境变量获取这个建筑, 并与之交互.

但是如果我们想批量获取全部或者某一部分链接的建筑时, 就很费劲了.
所以这章我们将学习`getlink`语句, 来直接获取第n个链接的建筑

`getlink` 顾名思义, 获取链接. 拥有两个参数,
它会将右侧参数 n 当成一个整数, 并把建筑值赋值给左侧参数.

注意: 编号 n 从 0 开始计数.

比如以下在每一个链接的信息板中打印这个信息板的编号

```
set n 0
loop:
    getlink msg n
    print n
    printflush msg
    op add n n 1
jump loop lessThan n @links
```

环境变量 `@links` 是当前链接的建筑数目

运行上面这段逻辑, 我们可以发现, 一个新链接的建筑直接编号到最末尾,
但是取消链接某个建筑再重新链接, 它还会是之前的编号.

通过简单的从0一直循环增加到`@links`, 我们可以简单的对所有链接的建筑进行操作

当然你也可以不从0开始, 跳过某些事先链接好的建筑


---
[上一章](./07-print-and-draw.md)
[目录](./README.md)
[下一章](./09-sensor.md)
