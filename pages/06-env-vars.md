# 环境变量
在上一章我们讲了变量, 这章我们讲环境变量

环境变量是不需要去赋值或使用就已经存在的变量, 虽然大部分都不会显示在变量表中.

环境变量大多不可赋值, 但是较少环境变量是可赋值的

一些环境变量会自动改变, 比如`@time`会随着游戏时间改变

常见的一些环境变量, 例如:

- `true`: `1`
- `false`: `0`
- `null`: `null`
- `@copper`: 铜的 content
- `@time`: 目前游戏进行的时间 (秒)
- `@links`: 当前链接的建筑总数
- `@counter`[^1]: 执行完这行后要执行的行号 (可被赋值)

并且, 当逻辑链接建筑时,
一般会以建筑由短横线`-`分隔的原始名称的最后一段加上一个计数(由1开始)的名称,
增设一个表示这个建筑的环境变量, 变量类型是building,
比如信息板`message1` `message2`

需要注意的是, 当你解除链接, 这个计数会保留,
下一次链接相对逻辑位置的相同位置相同类型建筑时, 还是同一个变量.

也就是说, 解除链接再重新链接, 并不会改变这个建筑的环境变量名称, 和编号顺序[^2]

**较为完整的环境变量列表可以参考 [附录03-环境变量](./appendix-03-env-vars.md)**


[^1]: 这个变量非常重要, 学习到中期一些重要的控制结构都依赖于此.\
      逻辑中每个语句的运行可看成以下四步

      1. 读取@counter处的语句
      2. 将@counter增加1
      3. 执行读取到的语句
      4. 回到步骤1.

      通俗来讲, 这个变量控制了执行某行语句后要执行哪一行,
      jump 语句做的事就是条件通过时将这个变量改为指向的行数

      从上述步骤我们可以看出, 执行语句时, 因为@counter是可赋值的,
      所以我们可以随意的控制执行完这行后要执行哪行

      函数结构和select结构都依赖于此, 在之后会讲解这两个结构

[^2]: 每一个被链接的建筑都有一个编号, 由0开始, 在之后讲getlink时需要用到


---
[上一章](./05-jump.md)
[目录](./README.md)
[下一章](./07-print-and-draw.md)
